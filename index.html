<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>源人步走 - 綠色能源教育App</title>
    <link rel="stylesheet" href="css/style.css" />
    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app-container">
      <!-- Top Bar -->
      <div id="top-bar">
        <div class="top-bar-content">
          <img
            src="assets/images/game-icon.jpg"
            alt="源人步走"
            class="game-icon"
          />
          <h1 class="game-title">源人步走</h1>
        </div>
      </div>

      <!-- Home View -->
      <div id="view-home" class="view active-view">
        <h2>我的綠色家園</h2>

        <!-- 2.5D 綠色家園圖片區域 -->
        <div class="eco-home-display">
          <img
            id="eco-home-image"
            src="assets/images/eco-home-image.png"
            alt="2.5D綠色家園概念圖 - 展示太陽能板、風力發電機、智能家居系統和綠色植物的環保住宅"
          />
          <p class="image-caption">2.5D 綠色家園概念展示</p>
        </div>

        <!-- 資源顯示區 -->
        <div class="resource-display">
          <p>環保評分：<span id="home-eco-score">10</span></p>
          <div class="elements-display">
            <p>可用能源元素：</p>
            <div class="element-counters">
              <span class="element-counter"
                >Solara☀️: <span id="solara-count">50</span></span
              >
              <span class="element-counter"
                >Wind🌬️: <span id="wind-count">30</span></span
              >
              <span class="element-counter"
                >Aqua💧: <span id="aqua-count">0</span></span
              >
              <span class="element-counter"
                >Bio-Fuel♻️: <span id="biofuel-count">0</span></span
              >
              <span class="element-counter"
                >Kinetic⚡: <span id="kinetic-count">0</span></span
              >
            </div>
          </div>
        </div>

        <!-- 可用設施區域 (預設解鎖) -->
        <div class="available-facilities">
          <div class="facilities-header">
            <h3>🔧 可用設施</h3>
            <!-- 設施商店按鈕 -->
            <button
              id="open-facility-store-btn"
              class="store-btn-compact btn-animation"
              title="設施商店"
            >
              🏪
            </button>
          </div>

          <!-- 太陽能板設施 -->
          <div class="home-facility available">
            <h3>☀️ 太陽能板 (等級 <span id="solar-level-display">1</span>)</h3>
            <p>目前產能: <span id="solar-rate-display">2</span> Solara/小時</p>
            <p>
              儲存容量: <span id="solar-accumulated">0</span>/<span
                id="solar-max-storage"
                >10</span
              >
              <span
                id="solar-full-indicator"
                class="full-indicator"
                style="display: none"
                >FULL</span
              >
            </p>
            <button id="upgrade-solar-btn" class="upgrade-btn btn-animation">
              升級太陽能板 (消耗 10 Solara☀️)
            </button>
            <button id="collect-solar-btn" class="collect-btn btn-animation">
              收集能源 (<span class="white-text" id="solar-accumulated-btn"
                >0</span
              >
              可收集)
            </button>
          </div>

          <!-- 風力發電機設施 -->
          <div class="home-facility available">
            <h3>🌬️ 風力發電機 (等級 <span id="wind-level-display">1</span>)</h3>
            <p>目前產能: <span id="wind-rate-display">2</span> Wind/小時</p>
            <p>
              儲存容量: <span id="wind-accumulated">0</span>/<span
                id="wind-max-storage"
                >10</span
              >
              <span
                id="wind-full-indicator"
                class="full-indicator"
                style="display: none"
                >FULL</span
              >
            </p>
            <button id="upgrade-wind-btn" class="upgrade-btn btn-animation">
              升級風力發電機 (消耗 10 Wind🌬️)
            </button>
            <button id="collect-wind-btn" class="collect-btn btn-animation">
              收集能源 (<span class="white-text" id="wind-accumulated-btn"
                >0</span
              >
              可收集)
            </button>
          </div>
        </div>
      </div>

      <!-- Explore View -->
      <div id="view-explore" class="view">
        <div class="explore-header">
          <h2>香港綠蹤遊 (AR概念模擬)</h2>
          <!-- 能源收集裝置商店按鈕 - 緊湊圓形版本 -->
          <button
            id="open-device-store-btn"
            class="store-btn-compact btn-animation"
            title="能源收集裝置商店"
          >
            🏪
          </button>
        </div>

        <!-- 地圖區域 -->
        <div id="map-container">
          <div class="map-background">
            <img src="assets/images/Map.png" alt="香港地圖" class="map-image" />

            <!-- 太陽能熱點 -->
            <div class="solar-hotspot" id="solar-hotspot">
              <img
                src="assets/images/solarHotspot.png"
                alt="太陽能設施"
                class="hotspot-image"
              />
              <button class="hotspot-interaction-btn" data-hotspot="zcb">
                <i class="fas fa-video"></i> 查看設施
              </button>
            </div>

            <!-- 猿人角色 -->
            <div class="ape-avatar" id="ape-avatar">
              <img
                src="assets/images/apeAvatar.png"
                alt="猿人角色"
                class="avatar-image"
              />
            </div>
          </div>

          <!-- 資訊提示框 -->
          <div class="info-text">
            <i class="fas fa-exclamation-triangle"></i>
            <span class=""
              >提示：走近綠色能源設施，體驗AR技術獲取能源！完整版本將支援更多香港綠色地點。</span
            >
          </div>
        </div>

        <!-- AR資訊彈窗 -->
        <div id="ar-popup-explore" style="display: none">
          <h3 id="ar-popup-title-explore"></h3>
          <p id="ar-popup-desc-explore"></p>

          <!-- 視頻展示區域 -->
          <div
            class="video-container"
            id="video-container-explore"
            style="display: none"
          >
            <video
              id="ar-video-explore"
              controls
              style="width: 100%; border-radius: 8px"
            >
              <source src="" type="video/mp4" />
              您的瀏覽器不支援視頻播放。
            </video>
          </div>

          <img
            id="ar-popup-img-explore"
            src=""
            alt="熱點圖片"
            style="display: none"
          />

          <p>
            獎勵：<span id="ar-popup-reward-explore"></span>
            <span id="ar-popup-reward-type"></span>
          </p>

          <div class="popup-buttons">
            <button id="collect-reward-btn-explore">收集獎勵</button>
            <button id="close-ar-popup-btn-explore">關閉</button>
          </div>
        </div>
      </div>

      <!-- Info View -->
      <div id="view-info" class="view">
        <h2>關於「源人步走」</h2>

        <section class="info-section">
          <h3>🏆 團隊資訊</h3>
          <p>
            <strong>團隊名稱：</strong>綠色源人<br />
            <strong>所屬院校：</strong>香港中文大學<br />
            <strong>參賽項目：</strong>三菱電機綠續創科盃2025
          </p>
        </section>

        <section class="info-section">
          <h3>🎮 遊戲概念</h3>
          <p>透過遊戲化互動，讓玩家在虛擬世界中體驗綠色能源的魅力</p>
        </section>

        <section class="info-section">
          <h3>🎯 玩法說明</h3>
          <ul>
            <li><strong>家園建設：</strong>升級各種綠色能源設施</li>
            <li>
              <strong>AR+GPS探索：</strong
              >結合擴增實境與定位技術，發現香港各地的綠色能源熱點
            </li>
            <li><strong>源動裝備：</strong>透過步行計步產生能量</li>
          </ul>
        </section>

        <section class="info-section">
          <h3>🌱 教育目標</h3>
          <p>
            提升市民對綠色能源的認知，推廣綠色生活方式，提升市民對綠色能源的接受程度和興趣
          </p>
        </section>

        <section class="info-section">
          <h3>⚙️ 原型說明</h3>
          <p>
            此為概念原型，專注於核心功能概念展示，未包含完整後端系統。所有數據僅存在於瀏覽器會話中，刷新頁面將重置所有進度。
          </p>
        </section>
      </div>

      <!-- Bottom Navigation -->
      <nav id="bottom-nav">
        <button id="nav-home" class="nav-btn active">
          <i class="fas fa-home"></i>
          <span class="white-text">家園</span>
        </button>
        <button id="nav-explore" class="nav-btn">
          <i class="fas fa-map"></i>
          <span class="white-text">探索</span>
        </button>
        <button id="nav-info" class="nav-btn">
          <i class="fas fa-info-circle"></i>
          <span class="white-text">資訊</span>
        </button>
      </nav>
    </div>

    <!-- 設施商店彈窗 -->
    <div id="facility-store-popup" class="popup-overlay" style="display: none">
      <div class="popup-content facility-store-content">
        <div class="popup-header">
          <h3>🏪 設施商店</h3>
          <button id="close-facility-store-btn" class="close-popup-btn">
            ✕
          </button>
        </div>

        <div class="popup-body">
          <p class="store-description">
            購買更多綠色能源設施來擴展您的家園！每種設施都有獨特的能源產出。
          </p>

          <!-- 設施商品列表 -->
          <div class="facility-list">
            <!-- 水力發電機設施 (鎖定) -->
            <div class="facility-item aqua-facility">
              <div class="facility-header">
                <h4>💧 水力發電機 (等級 1)</h4>
                <span class="facility-price">500 Solara☀️</span>
              </div>
              <div class="facility-details">
                <p class="facility-description">
                  高效水力發電系統，利用水流動能產生清潔電力。
                  適合安裝在有水源的環境中，能夠24小時持續發電。
                </p>
                <div class="facility-stats">
                  <span class="stat-item">📊 產能：2 Aqua💧/小時</span>
                  <span class="stat-item">🔋 能源類型：水力 Aqua💧</span>
                  <span class="stat-item">⏱️ 運作方式：持續產能</span>
                  <span class="stat-item">💪 特色：24小時穩定發電</span>
                </div>
              </div>
              <button
                id="buy-aqua-btn"
                class="facility-buy-btn locked"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 廚餘轉化器設施 (鎖定) -->
            <div class="facility-item biofuel-facility">
              <div class="facility-header">
                <h4>♻️ 廚餘轉化器 (等級 1)</h4>
                <span class="facility-price">400 Wind🌬️</span>
              </div>
              <div class="facility-details">
                <p class="facility-description">
                  智能廚餘處理系統，將有機廢料轉化為生物燃料。
                  環保循環利用，減少廢物同時產生清潔能源。
                </p>
                <div class="facility-stats">
                  <span class="stat-item">📊 產能：2 Bio-Fuel♻️/小時</span>
                  <span class="stat-item"
                    >🔋 能源類型：生物燃料 Bio-Fuel♻️</span
                  >
                  <span class="stat-item">⏱️ 運作方式：廢料轉化</span>
                  <span class="stat-item">💪 特色：環保循環利用</span>
                </div>
              </div>
              <button
                id="buy-compost-btn"
                class="facility-buy-btn locked"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 動能發電機設施 (鎖定) -->
            <div class="facility-item kinetic-facility">
              <div class="facility-header">
                <h4>⚡ 動能發電機 (等級 1)</h4>
                <span class="facility-price">600 混合能源</span>
              </div>
              <div class="facility-details">
                <p class="facility-description">
                  先進動能收集系統，將各種機械運動轉化為電能。
                  高科技設備，需要混合能源才能解鎖。
                </p>
                <div class="facility-stats">
                  <span class="stat-item">📊 產能：2 Kinetic⚡/小時</span>
                  <span class="stat-item">🔋 能源類型：動能 Kinetic⚡</span>
                  <span class="stat-item">⏱️ 運作方式：運動轉化</span>
                  <span class="stat-item">💪 特色：高科技能源轉換</span>
                </div>
              </div>
              <button
                id="buy-kinetic-btn"
                class="facility-buy-btn locked"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>
          </div>

          <!-- 原型版本說明 -->
          <div class="prototype-notice">
            <h4>⚠️ 原型版本限制說明</h4>
            <ul>
              <li>目前版本僅供展示，無法實際購買設施</li>
              <li>完整版本將支援設施購買和建造系統</li>
              <li>設施效果將與實際能源產出整合</li>
              <li>未來將加入設施升級和自定義功能</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- 能源收集裝置商店彈窗 -->
    <div
      id="energy-device-store-popup"
      class="popup-overlay"
      style="display: none"
    >
      <div class="popup-content device-store-content">
        <div class="popup-header">
          <h3>🏪 能源收集裝置商店</h3>
          <button id="close-device-store-btn" class="close-popup-btn">✕</button>
        </div>

        <div class="popup-body">
          <p class="store-description">
            透過穿戴式裝置，將日常活動轉化為能源元素！每種裝置都有獨特的收集方式。
          </p>

          <!-- 裝置商品列表 -->
          <div class="device-list">
            <!-- 發電鞋墊 -->
            <div class="device-item kinetic-device">
              <div class="device-header">
                <h4>⚡ 發電鞋墊</h4>
                <span class="device-price">250 Kinetic⚡</span>
              </div>
              <div class="device-details">
                <p class="device-description">
                  高科技壓電鞋墊，內建微型發電機。每一步都能將腳步的壓力轉化為電能，
                  是步行愛好者的最佳夥伴。適合日常通勤和運動時使用。
                </p>
                <div class="device-stats">
                  <span class="stat-item"
                    >📊 效率：每走 1000 步獲得 5 Kinetic⚡</span
                  >
                  <span class="stat-item">🔋 能源類型：動能 Kinetic⚡</span>
                  <span class="stat-item">⏱️ 收集方式：步行計步</span>
                  <span class="stat-item">💪 適用場景：日常步行、運動健身</span>
                </div>
              </div>
              <button
                class="device-buy-btn locked"
                data-device="power-insole"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 動能手環 -->
            <div class="device-item kinetic-device">
              <div class="device-header">
                <h4>⚡ 動能手環</h4>
                <span class="device-price">200 Kinetic⚡</span>
              </div>
              <div class="device-details">
                <p class="device-description">
                  智能運動手環，配備動作感測器和微型渦輪發電機。
                  能夠識別各種運動模式，將手臂擺動轉化為電能。輕巧舒適，適合長期佩戴。
                </p>
                <div class="device-stats">
                  <span class="stat-item"
                    >📊 效率：每 30 分鐘運動獲得 3 Kinetic⚡</span
                  >
                  <span class="stat-item">🔋 能源類型：動能 Kinetic⚡</span>
                  <span class="stat-item">⏱️ 收集方式：運動時間計算</span>
                  <span class="stat-item">💪 適用場景：健身運動、日常活動</span>
                </div>
              </div>
              <button
                class="device-buy-btn locked"
                data-device="kinetic-wristband"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 太陽能手錶 -->
            <div class="device-item solar-device">
              <div class="device-header">
                <h4>☀️ 太陽能手錶</h4>
                <span class="device-price">300 Solara☀️</span>
              </div>
              <div class="device-details">
                <p class="device-description">
                  時尚太陽能智能手錶，表面覆蓋高效太陽能電池片。
                  即使在室內燈光下也能持續充電，是綠色生活的完美象徵。具備GPS定位功能。
                </p>
                <div class="device-stats">
                  <span class="stat-item"
                    >📊 效率：每小時戶外活動獲得 3 Solara☀️</span
                  >
                  <span class="stat-item">🔋 能源類型：太陽能 Solara☀️</span>
                  <span class="stat-item">⏱️ 收集方式：戶外時間計算</span>
                  <span class="stat-item"
                    >💪 適用場景：戶外活動、日光照射環境</span
                  >
                </div>
              </div>
              <button
                class="device-buy-btn locked"
                data-device="solar-watch"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 風力背包 -->
            <div class="device-item wind-device">
              <div class="device-header">
                <h4>🌬️ 風力背包</h4>
                <span class="device-price">350 Wind🌬️</span>
              </div>
              <div class="device-details">
                <p class="device-description">
                  創新風力發電背包，配備可折疊小型風力渦輪。
                  背包頂部的風輪在步行時轉動發電，越快的移動速度產生越多能源。輕量化設計。
                </p>
                <div class="device-stats">
                  <span class="stat-item"
                    >📊 效率：每公里步行距離獲得 4 Wind🌬️</span
                  >
                  <span class="stat-item">🔋 能源類型：風力 Wind🌬️</span>
                  <span class="stat-item">⏱️ 收集方式：移動距離計算</span>
                  <span class="stat-item"
                    >💪 適用場景：快速步行、騎車、戶外活動</span
                  >
                </div>
              </div>
              <button
                class="device-buy-btn locked"
                data-device="wind-backpack"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>

            <!-- 水力腕帶 -->
            <div class="device-item aqua-device">
              <div class="device-header">
                <h4>💧 水力腕帶</h4>
                <span class="device-price">280 Aqua💧</span>
              </div>
              <div class="device-details">
                <p class="device-description">
                  防水運動腕帶，內建微型水力發電裝置。
                  運動時產生的汗液和接觸的水分都能轉化為電能。特別適合游泳和高強度運動。
                </p>
                <div class="device-stats">
                  <span class="stat-item"
                    >📊 效率：每 30 分鐘運動時間獲得 2 Aqua💧</span
                  >
                  <span class="stat-item">🔋 能源類型：水力 Aqua💧</span>
                  <span class="stat-item">⏱️ 收集方式：運動時間計算</span>
                  <span class="stat-item"
                    >💪 適用場景：游泳、高強度運動、潮濕環境</span
                  >
                </div>
              </div>
              <button
                class="device-buy-btn locked"
                data-device="aqua-wristband"
                disabled
              >
                購買 (原型版本暫不開放)
              </button>
            </div>
          </div>

          <!-- 原型版本說明 -->
          <div class="prototype-notice">
            <h4>⚠️ 原型版本限制說明</h4>
            <ul>
              <li>目前版本僅供展示，無法實際購買裝置</li>
              <li>完整版本將支援裝置購買和佩戴系統</li>
              <li>裝置效果將與真實運動數據整合</li>
              <li>未來將加入裝置升級和自定義功能</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script src="js/script.js"></script>
  </body>
</html>
